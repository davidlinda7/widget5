<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Setup Checklist</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-transparent text-gray-900">
  <main class="w-full p-4">
    <section class="rounded-2xl border bg-white shadow p-5">
      <h3 class="font-semibold text-lg mb-3">Setup Checklist</h3>
      <ul id="list" class="space-y-2">
        <li class="flex items-center gap-3"><input type="checkbox" id="c1" class="h-4 w-4"><span id="t1">Connect your business number</span></li>
        <li class="flex items-center gap-3"><input type="checkbox" id="c2" class="h-4 w-4"><span id="t2">Turn on Missed Call Text Back</span></li>
        <li class="flex items-center gap-3"><input type="checkbox" id="c3" class="h-4 w-4"><span id="t3">Add SMS & email templates</span></li>
        <li class="flex items-center gap-3"><input type="checkbox" id="c4" class="h-4 w-4"><span id="t4">Make a test call to verify</span></li>
      </ul>
      <div class="flex items-center justify-between mt-4">
        <div class="w-48">
          <div class="w-full h-2 rounded bg-gray-200 overflow-hidden">
            <div id="bar" class="h-2 bg-emerald-500" style="width:25%"></div>
          </div>
          <p id="sub" class="text-xs text-gray-500 mt-1">1/4 (25%)</p>
        </div>
        <a href="#" class="inline-flex items-center rounded-xl px-3 py-1.5 border text-sm">View Setup Guide</a>
      </div>
    </section>
  </main>

  <script>
    // Accept ?done=1,3  (comma-separated checked items)
    const p = new URLSearchParams(location.search);
    const done = (p.get('done') || '1').split(',').map(n => parseInt(n, 10)).filter(n => !Number.isNaN(n));
    for (const n of done) {
      const c = document.getElementById('c' + n);
      const t = document.getElementById('t' + n);
      if (c) { c.checked = true; }
      if (t && c?.checked) { t.classList.add('line-through', 'text-gray-400'); }
    }
    const total = 4, count = Array.from({ length: 4 }, (_, i) => i + 1).filter(i => document.getElementById('c' + i).checked).length;
    const pct = Math.round((count / total) * 100);
    document.getElementById('bar').style.width = pct + '%';
    document.getElementById('sub').textContent = `${count}/${total} (${pct}%)`;
  </script>
</body>
</html>
<!-- Checklist widget placeholder -->
